<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles.css">
    <title>Hablemos</title>
</head>
<body>
    <div class="card">
        <div class="avatar-container">
            <section id="hablemos">
                <h2>HABLEMOS</h2>
                <p>Si quieres hablar conmigo, puedes escribirme que te parecio mi CV</p>
                <form id="contact-form">
                    <textarea name="message" id="message" rows="5" placeholder="Escribe tu mensaje aquí..." class="text" required></textarea>
                    <p><button type="submit" class="link-card">Enviar</button></p>
                        <div>
                        <img 
                        src="./assets/hablemos.jpg"
                        alt="hablemos"
                        id= "hablemosPreview"
                        class="hablemos"  
                        />
                </form>
                <p id="status-message"></p>
                <a href="./index.html" class="link-card">Volver a portafolio</a>
            </section>
        </div>
    </div>

    <!-- SDK de EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <script>
        // Inicializa EmailJS con tu PUBLIC KEY
        emailjs.init('XAfClw-7x_KP8Y2qO'); // <-- reemplaza esto con tu clave pública

        // Manejo del envío del formulario
        document.getElementById('contact-form').addEventListener('submit', function(event) {
            event.preventDefault();

            // Obtiene el mensaje del formulario
            const message = document.getElementById('message').value;

            // Parámetros para enviar a EmailJS
            const templateParams = {
                message: message,
            };

            // Envia el mensaje a través de EmailJS
            emailjs.send('service_v5r24vf', 'template_nkffus8', templateParams)
                .then(function(response) {
                    document.getElementById('status-message').textContent = 'Mensaje enviado correctamente.';
                    document.getElementById('contact-form').reset();
                }, function(error) {
                    document.getElementById('status-message').textContent = 'Error al enviar el mensaje.';
                });
        });
    </script>

    

</body>
</html>
